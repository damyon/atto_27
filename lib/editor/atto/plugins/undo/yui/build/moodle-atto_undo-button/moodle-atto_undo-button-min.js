YUI.add("moodle-atto_undo-button",function(e,t){M.atto_undo=M.atto_undo||{init:function(t){var n=function(e,t,n){e.preventDefault(),M.editor_atto.is_active(t)||M.editor_atto.focus(t),document.execCommand(n,!1),M.editor_atto.text_updated(t)},r=function(e,t){n(e,t,"undo")},i=function(e,t){n(e,t,"redo")},s=function(){var t=document.activeElement,n=!1,r=e.Node.create('<div id="attoundotesting" contenteditable="true" style="height:1px">a</div>');return e.one("body").prepend(r),r.focus(),document.execCommand("insertText",!1,"b"),r.getHTML()==="ba"&&(document.execCommand("undo",!1),r.getHTML()==="a"&&(document.execCommand("redo",!1),r.getHTML()==="ba"&&(n=!0))),e.one("body").removeChild(r),t.focus(),n};if(s()){var o=M.util.image_url("e/undo","core");M.editor_atto.add_toolbar_button(t.elementid,"undo",o,t.group,r),o=M.util.image_url("e/redo","core"),M.editor_atto.add_toolbar_button(t.elementid,"redo",o,t.group,i)}}}},"@VERSION@",{requires:["node"]});
